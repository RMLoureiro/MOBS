<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Block (simulator.Simulator.Block)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">simulator</a> &#x00BB; <a href="../index.html">Simulator</a> &#x00BB; Block</nav><header class="odoc-preamble"><h1>Module <code><span>Simulator.Block</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-node_id" class="anchored"><a href="#type-node_id" class="anchor"></a><code><span><span class="keyword">type</span> node_id</span><span> = int</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-block_id" class="anchored"><a href="#type-block_id" class="anchor"></a><code><span><span class="keyword">type</span> block_id</span><span> = int</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-balances" class="anchored"><a href="#type-balances" class="anchor"></a><code><span><span class="keyword">type</span> balances</span><span> = <span><span>(<a href="#type-node_id">node_id</a> * float)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-block_header" class="anchored"><a href="#type-block_header" class="anchor"></a><code><span><span class="keyword">type</span> block_header</span><span> = </span><span>{</span></code><table><tr id="type-block_header.id" class="anchored"><td class="def record field"><a href="#type-block_header.id" class="anchor"></a><code><span>id : <a href="#type-block_id">block_id</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>id of the block</p><span class="comment-delim">*)</span></td></tr><tr id="type-block_header.height" class="anchored"><td class="def record field"><a href="#type-block_header.height" class="anchor"></a><code><span>height : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>height of the block in the chain</p><span class="comment-delim">*)</span></td></tr><tr id="type-block_header.minter" class="anchored"><td class="def record field"><a href="#type-block_header.minter" class="anchor"></a><code><span>minter : <a href="#type-node_id">node_id</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>id of the node who minted the block</p><span class="comment-delim">*)</span></td></tr><tr id="type-block_header.parent" class="anchored"><td class="def record field"><a href="#type-block_header.parent" class="anchor"></a><code><span>parent : <span><a href="#type-node_id">node_id</a> option</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>parent of the block</p><span class="comment-delim">*)</span></td></tr><tr id="type-block_header.timestamp" class="anchored"><td class="def record field"><a href="#type-block_header.timestamp" class="anchor"></a><code><span>timestamp : <a href="../Clock/index.html#type-t">Clock.t</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>timestamp when the block was created</p><span class="comment-delim">*)</span></td></tr><tr id="type-block_header.balances" class="anchored"><td class="def record field"><a href="#type-block_header.balances" class="anchor"></a><code><span>balances : <a href="#type-balances">balances</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>the balance of each node</p><span class="comment-delim">*)</span></td></tr><tr id="type-block_header.difficulty" class="anchored"><td class="def record field"><a href="#type-block_header.difficulty" class="anchor"></a><code><span>difficulty : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>difficulty of creating the block</p><span class="comment-delim">*)</span></td></tr><tr id="type-block_header.total_difficulty" class="anchored"><td class="def record field"><a href="#type-block_header.total_difficulty" class="anchor"></a><code><span>total_difficulty : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>total difficulty of creating the chain up to this block</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Mandatory information that every block possesses.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = </span><span>{</span></code><table><tr id="type-t.header" class="anchored"><td class="def record field"><a href="#type-t.header" class="anchor"></a><code><span>header : <a href="#type-block_header">block_header</a>;</span></code></td></tr><tr id="type-t.contents" class="anchored"><td class="def record field"><a href="#type-t.contents" class="anchor"></a><code><span>contents : <span class="type-var">'a</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Type of a block: header + user-defined information</p></div></div><div class="odoc-spec"><div class="spec value" id="val-id" class="anchored"><a href="#val-id" class="anchor"></a><code><span><span class="keyword">val</span> id : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-block_id">block_id</a></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-BlockRewards" class="anchored"><a href="#module-type-BlockRewards" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-BlockRewards/index.html">BlockRewards</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Module that contains the reward function to be called when creating a new block.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-NoRewards" class="anchored"><a href="#module-NoRewards" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="NoRewards/index.html">NoRewards</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Module for non-varying balances throughout the simulation.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-BaseRewards" class="anchored"><a href="#module-BaseRewards" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="BaseRewards/index.html">BaseRewards</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Base module for rewarding the minter of a block.</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-BlockSig" class="anchored"><a href="#module-type-BlockSig" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-BlockSig/index.html">BlockSig</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The signature for a block module.</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-BlockContent" class="anchored"><a href="#module-type-BlockContent" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-BlockContent/index.html">BlockContent</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Wrapper for the type of a block's contents.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Make" class="anchored"><a href="#module-Make" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Make/index.html">Make</a></span><span> (<a href="Make/argument-1-Logger/index.html">Logger</a> : <a href="../Logging/module-type-Logger/index.html">Logging.Logger</a>) (<a href="Make/argument-2-BlockContent/index.html">BlockContent</a> : <a href="module-type-BlockContent/index.html">BlockContent</a>) (<a href="Make/argument-3-Rewards/index.html">Rewards</a> : <a href="module-type-BlockRewards/index.html">BlockRewards</a>) : <a href="module-type-BlockSig/index.html">BlockSig</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-BlockSig/index.html#type-block_contents">block_contents</a> = <a href="Make/argument-2-BlockContent/index.html#type-t">BlockContent.t</a></span> <span class="keyword">and</span> <span><span class="keyword">type</span> <a href="module-type-BlockSig/index.html#type-block">block</a> = <span><a href="Make/argument-2-BlockContent/index.html#type-t">BlockContent.t</a> <a href="#type-t">t</a></span></span></span></code></div><div class="spec-doc"><p>Functor for creating the implementation for a Block, given the Logger, BlockContent and BlockRewards modules.</p></div></div></div></body></html>